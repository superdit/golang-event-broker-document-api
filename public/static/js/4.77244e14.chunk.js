(this.webpackJsonpevent_docs=this.webpackJsonpevent_docs||[]).push([[4],{75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a(0),s=a.n(n),l=a(4),r=a(43),o=a(18),i=a(21),d=a(44),u=a.n(d),b=a(72),j=a.n(b);function m(e){switch(e){case"top-left":e="toast-top-left";break;case"top-middle":e="toast-top-center";break;case"top-right":e="toast-top-right";break;case"bottom-left":e="toast-bottom-left";break;case"bottom-middle":e="toast-bottom-center";break;case"bottom-right":e="toast-bottom-right";break;default:e="toast-top-right"}return{closeButton:!0,debug:!1,newestOnTop:!0,progressBar:!1,positionClass:e,preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}var h=function(e,t,a,c){switch(e){case"success":j.a.success(t,a,m(c));break;case"info":j.a.info(t,a,m(c));break;case"warning":j.a.warning(t,a,m(c));break;case"error":j.a.error(t,a,m(c))}},O=(a(45),"".concat("http://doc.event.halped40135.com:4000","/api/backends")),x="".concat("http://doc.event.halped40135.com:4000","/api/backend"),p=u.a.create({baseURL:O}),f=function(e){return{type:"BACKEND_LOADING",data:e}},g=function(){return function(e){return e(f(!0)),p.get(O,{}).then((function(t){e({type:"LOAD_BACKEND_SUCCESS",datas:t.data.data.backends})})).catch((function(e){console.error(e)})).finally((function(){setTimeout((function(){e(f(!1))}),1e3)}))}},v=a(3),N=function(e){var t=e.title,a=e.body,c=e.id,n=e.onSubmit;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"modal fade",id:"exampleModal".concat(c),tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(v.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:Object(v.jsxs)("div",{className:"modal-content",children:[Object(v.jsxs)("div",{className:"modal-header",children:[Object(v.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:t}),Object(v.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(v.jsx)("div",{className:"modal-body",children:a}),Object(v.jsx)("div",{className:"modal-footer",children:Object(v.jsx)("button",{type:"button",className:"btn btn-primary",onClick:n,style:{backgroundColor:"#30A4E1"},children:"Submit"})})]})})})})},S=function(e){var t,a=Object(o.b)(),c=Object(n.useState)(!1),s=Object(r.a)(c,1)[0],l=Object(n.useState)(e.name),d=Object(r.a)(l,2),u=d[0],b=d[1],j=Object(n.useState)(e.url),m=Object(r.a)(j,2),O=m[0],x=m[1],f=Object(n.useState)(""),g=Object(r.a)(f,2),S=g[0],y=g[1],w=Object(n.useState)(""),_=Object(r.a)(w,2),E=_[0],k=_[1],C=function(e){b(e.target.value)},A=function(e){x(e.target.value)},T=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsxs)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:["Name ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:u,onChange:C})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsxs)("label",{htmlFor:"url",className:"col-sm-2 col-form-label",children:["Url ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputPassword3",defaultValue:O,onChange:A})})]})]})})};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{style:{textAlign:"left"},id:e.id,children:[Object(v.jsx)("th",{scope:"row",children:e.idx+1}),Object(v.jsx)("td",{children:e.name}),Object(v.jsx)("td",{className:"text-center",children:Object(v.jsx)("a",{href:"/event/exc/".concat(e.name),style:{textDecoration:"none"},children:e.total_exchanges})}),Object(v.jsx)("td",{className:"text-center",children:Object(v.jsx)("a",{href:"/subscribers/queue/".concat(e.name),style:{textDecoration:"none"},children:e.total_queues})}),Object(v.jsxs)("td",{children:[Object(v.jsx)("a",{href:e.url,target:"_blank",rel:"nofollow",title:"tes",children:Object(v.jsx)("i",{className:"fa fa-eye","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"}})}),Object(v.jsx)("i",(t={className:"fa fa-pencil-square-o","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"}},Object(i.a)(t,"style",{marginRight:"10px",cursor:"pointer"}),Object(i.a)(t,"data-bs-toggle","modal"),Object(i.a)(t,"data-bs-target","#exampleModal".concat(e.id)),Object(i.a)(t,"onClick",(function(){y("Edit Backend"),k(T)})),t)),Object(v.jsx)(N,{id:e.id,isOpen:s,title:S,body:E,onSubmit:function(){alert("Apakah Anda Yakin ?"),a(function(e,t,a){return function(c){return p.put("".concat("http://doc.event.halped40135.com:4000","/api/backend/").concat(a),{name:e,url:t}).then((function(e){c({type:"EDIT_BACKEND_SUCCESS",datas:e.data.data.backends}),e&&(h("success","Backend Berhasil Diubah","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}}(u,O,e.id))}}),Object(v.jsx)("i",{className:"fa fa-trash-o","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"},onClick:function(){var t;alert("Apakah Anda Yakin ?"),a((t=e.id,function(e){return p.delete("".concat("http://doc.event.halped40135.com:4000","/api/backend/").concat(t),{}).then((function(e){e&&(h("success","Backend Telah Dihapus","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}))}})]})]},e.idx.toString())})},y=a(19),w=function(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.backend.dataBackend})),c=Object(o.c)((function(e){return e.backend.isLoading})),s=Object(n.useState)(""),l=Object(r.a)(s,2),i=l[0],d=l[1],u=Object(n.useState)(""),b=Object(r.a)(u,2),j=b[0],m=b[1],O=Object(n.useState)(""),w=Object(r.a)(O,2),_=w[0],E=w[1],k=Object(n.useState)(""),C=Object(r.a)(k,2),A=C[0],T=C[1],F=Object(n.useState)("add"),D=Object(r.a)(F,1)[0],B=Object(n.useState)(""),L=Object(r.a)(B,2),R=L[0],I=L[1],M=function(e){d(e.target.value)},q=function(e){m(e.target.value)};Object(n.useEffect)((function(){t(g())}),[]);var U=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsxs)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:["Name ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsx)("input",{type:"name",className:"form-control",id:"inputEmail3",defaultValue:i,onChange:M,placeholder:"Input Name"})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsxs)("label",{htmlFor:"url",className:"col-sm-2 col-form-label",children:["Url ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputPassword3",defaultValue:j,onChange:q,placeholder:"Input Url"})})]})]})})},V=a.filter((function(e){return e.name.toLowerCase().includes(R)})).map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(S,{idx:t,id:e.id,name:e.name,total_exchanges:e.total_exchanges,total_queues:e.total_queues,url:e.url},t.toString())})}));return c?Object(v.jsx)(y.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)("div",{className:"col-6",children:Object(v.jsx)("h4",{className:"mb-2",style:{textAlign:"left"},children:"List Backend"})}),Object(v.jsx)("div",{className:"col-6",style:{margin:"auto",textAlign:"right"},children:Object(v.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat(D),onClick:function(){E("Create Backend"),T(U)},style:{backgroundColor:"#30A4E1"},children:"Add Backend"})})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"mb-3",children:Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",onChange:function(e){I(e.target.value)}})}),Object(v.jsx)("div",{className:"table-responsive",children:Object(v.jsxs)("table",{className:"table table-striped table-hover",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{style:{textAlign:"left"},children:[Object(v.jsx)("th",{scope:"col",children:"#"}),Object(v.jsx)("th",{scope:"col",children:"Backend Name"}),Object(v.jsx)("th",{className:"text-center",scope:"col",children:"Total Exchange"}),Object(v.jsx)("th",{className:"text-center",scope:"col",children:"Total Queue"}),Object(v.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(v.jsx)("tbody",{children:V})]})}),Object(v.jsx)(N,{id:D,title:_,body:A,onSubmit:function(e){e.preventDefault(),""===i&&alert("Nama harus diisi!"),""===j?alert("url harus diisi!"):t(function(e,t){return function(a){return a(f(!0)),p.post(x,{name:e,url:t}).then((function(e){a({type:"POST_BACKEND_SUCCESS",datas:e.data.data.backends}),e&&(h("success","Backend telah di tambahkan","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))})).finally((function(){a(f(!1))}))}}(i,j))}})]})},_="".concat("http://doc.event.halped40135.com:4000","/api/events"),E="".concat("http://doc.event.halped40135.com:4000","/api/event"),k=u.a.create({baseURL:_}),C=function(e){return{type:"EVENT_LOADING",data:e}},A=function(){return function(e){return e(C(!0)),k.get(_,{}).then((function(t){e({type:"LOAD_EVENTS_SUCCESS",datas:t.data.data.events})})).catch((function(e){console.error(e)})).finally((function(){setTimeout((function(){e(C(!1))}),1e3)}))}},T=function(e){var t=Object(o.b)(),a=Object(n.useState)(e.pubId),c=Object(r.a)(a,2),s=c[0],l=c[1],i=Object(n.useState)(e.publisher),d=Object(r.a)(i,1)[0],u=Object(n.useState)(e.model_id),b=Object(r.a)(u,2),j=b[0],m=b[1],O=Object(n.useState)(e.model_name),x=Object(r.a)(O,1)[0],p=Object(n.useState)(e.exchange),f=Object(r.a)(p,2),g=f[0],S=f[1],y=Object(n.useState)(e.trigger),w=Object(r.a)(y,2),_=w[0],E=w[1],C=Object(n.useState)(e.endpoint),A=Object(r.a)(C,2),T=A[0],F=A[1],D=Object(n.useState)(e.description),B=Object(r.a)(D,2),L=B[0],R=B[1],I=Object(n.useState)(e.sample_message),M=Object(r.a)(I,2),q=M[0],U=M[1],V=Object(n.useState)(""),P=Object(r.a)(V,2),W=P[0],Q=P[1],Y=Object(n.useState)(""),G=Object(r.a)(Y,2),J=G[0],K=G[1],H=function(e){l(e.target.value)},z=function(e){m(e.target.value)},X=function(e){S(e.target.value)},Z=function(e){E(e.target.value)},$=function(e){F(e.target.value)},ee=function(e){R(e.target.value)},te=function(e){U(e.target.value)},ae=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"exchange",className:"form-label",children:["Exchange ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:g,onChange:X})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"backend",className:"form-label",children:["Backend Name ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:H,children:[s?Object(v.jsx)("option",{defaultValue:s,children:d}):Object(v.jsx)("option",{disabled:!0,value:"",selected:!0,children:"-Pilih-"}),e.dataBE.map((function(e,t){return Object(v.jsx)("option",{defaultValue:e.id,value:e.id,children:e.name},e.id)}))]})]})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"model",className:"form-label",children:["Model ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:z,children:[j?Object(v.jsx)("option",{defaultValue:j,children:x}):Object(v.jsx)("option",{disabled:!0,value:"",selected:!0,children:"-Pilih-"}),e.dataMdl.map((function(e,t){return console.log(e.id),Object(v.jsx)("option",{defaultValue:e.id,value:e.id,children:e.name},e.id)}))]})]})})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"triger",className:"form-label",children:"Triger Action"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:_,onChange:Z})]})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"endpoint",className:"form-label",children:"Endpoint"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",defaultValue:T,placeholder:"input Url",onChange:$})]})})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"sample_message",className:"form-label",children:"Sample JSON Message"}),Object(v.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",defaultValue:q,rows:"8",onChange:te})]})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(v.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",defaultValue:L,rows:"8",onChange:ee})]})})]})]})})};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{style:{textAlign:"left"},children:[Object(v.jsx)("th",{scope:"row",children:e.idx}),Object(v.jsx)("td",{title:"trigger action: ".concat(_),children:e.exchange}),Object(v.jsx)("td",{children:e.publisher}),Object(v.jsx)("td",{children:Object(v.jsx)("a",{href:e.model_url,target:"_blank",children:e.model_name})}),Object(v.jsx)("td",{className:"text-center",children:Object(v.jsx)("a",{href:"/subscribers/queue/".concat(e.exchange),style:{textDecoration:"none"},children:e.subscriber})}),Object(v.jsxs)("td",{children:[Object(v.jsx)("i",{className:"fa fa-pencil-square-o","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat(e.id),onClick:function(){Q("Edit Event"),K(ae)}}),Object(v.jsx)(N,{id:e.id,title:W,body:J,onSubmit:function(){alert("Apakah Anda Yakin ?"),t(function(e,t,a,c,n,s,l,r){var o={_backend_publisher_id:e,_model_id:t,exchange:a,trigger_action:c,endpoints:n,description:s,sample_message:l};return function(e){return k.put("".concat("http://doc.event.halped40135.com:4000","/api/event/").concat(r),o).then((function(t){e({type:"EDIT_EVENTS_SUCCESS",datas:t.data.data.events}),t&&(h("success","Event Berhasil Diubah","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}}(s,j,g,_,T,L,q,e.id))}}),Object(v.jsx)("i",{className:"fa fa-trash-o","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"},onClick:function(){var a;alert("Apakah Anda Yakin ?"),t((a=e.id,function(e){return k.delete("".concat("http://doc.event.halped40135.com:4000","/api/event/").concat(a),{}).then((function(t){e({type:"DELETE_EVENTS_SUCCESS",datas:t.data.data.events}),t&&(h("success","Event Berhasil Dihapus","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}))}})]})]},e.idx)})},F="".concat("http://doc.event.halped40135.com:4000","/api/models"),D="".concat("http://doc.event.halped40135.com:4000","/api/model"),B=u.a.create({baseURL:F}),L=function(e){return{type:"MODEL_LOADING",data:e}},R=function(){return function(e){return e(L(!0)),B.get(F,{}).then((function(t){e({type:"LOAD_MODELS_SUCCESS",datas:t.data.data.models})})).catch((function(e){console.error(e)})).finally((function(){setTimeout((function(){e(L(!1))}),1e3)}))}},I=function(e){var t=window.location.href.trim().split("/")[5],a=Object(o.b)(),c=Object(n.useState)(""),s=Object(r.a)(c,2),l=s[0],i=s[1],d=Object(n.useState)(""),u=Object(r.a)(d,2),b=u[0],j=u[1],m=Object(n.useState)(""),O=Object(r.a)(m,2),x=O[0],p=O[1],f=Object(n.useState)(""),S=Object(r.a)(f,2),w=S[0],_=S[1],C=Object(n.useState)(""),F=Object(r.a)(C,2),D=F[0],B=F[1],L=Object(n.useState)(""),I=Object(r.a)(L,2),M=I[0],q=I[1],U=Object(n.useState)(""),V=Object(r.a)(U,2),P=V[0],W=V[1],Q=Object(n.useState)(""),Y=Object(r.a)(Q,2),G=Y[0],J=Y[1],K=Object(n.useState)(""),H=Object(r.a)(K,2),z=H[0],X=H[1],Z=Object(n.useState)(""),$=Object(r.a)(Z,1)[0],ee=Object(n.useState)(""),te=Object(r.a)(ee,2),ae=te[0],ce=te[1],ne=Object(n.useState)(""),se=Object(r.a)(ne,2),le=se[0],re=se[1],oe=function(e){i(e.target.value)},ie=function(e){j(e.target.value)},de=function(e){p(e.target.value)},ue=function(e){_(e.target.value)},be=function(e){B(e.target.value)},je=function(e){q(e.target.value)},me=function(e){W(e.target.value)};Object(n.useEffect)((function(){var e;a(A()),a(g()),a(R()),t&&a((e=t,function(t){return k.get("".concat("http://doc.event.halped40135.com:4000","/api/events?q=").concat(e),{}).then((function(e){t({type:"LOAD_EVENTS_SEARCH_SUCCESS",datas:e.data.data.events})})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}))}),[t]);var he=Object(o.c)((function(e){return e.events.dataEvent})),Oe=Object(o.c)((function(e){return e.events.isLoading})),xe=Object(o.c)((function(e){return e.events.dataEventSearch})),pe=Object(o.c)((function(e){return e.backend.dataBackend})),fe=Object(o.c)((function(e){return e.models.dataModels})),ge=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"exchange",className:"form-label",children:["Exchange ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:x,onChange:de,placeholder:"input exchange"})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"backend",className:"form-label",children:["Backend Name ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:oe,children:[Object(v.jsx)("option",{disabled:!0,selected:!0,children:"--Pilih--"}),pe.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"model",className:"form-label",children:["Model ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:ie,children:[Object(v.jsx)("option",{disabled:!0,selected:!0,children:"--Pilih--"}),fe.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"triger",className:"form-label",children:"Triger Action "}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:w,onChange:ue,placeholder:"input trigger"})]})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"endpoint",className:"form-label",children:"Endpoint"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"exampleFormControlInput1",defaultValue:D,placeholder:"input Url",onChange:be})]})})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:"Sample JSON Message"}),Object(v.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea2",defaultValue:P,rows:"8",onChange:me})]})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"exampleFormControlTextarea1",className:"form-label",children:"Description"}),Object(v.jsx)("textarea",{className:"form-control",id:"exampleFormControlTextarea1",defaultValue:M,rows:"8",onChange:je})]})})]})]})})};Object(n.useEffect)((function(){t&&ce(xe&&xe.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(T,{idx:t+1,id:e.id,exchange:e.exchange,pubId:e._backend_publisher_id,publisher:e._backend_publisher_name,model_id:e._model_id,model_name:e._model_name,model_url:e._model_url,trigger:e.trigger_action,description:e.description,sample_message:e.sample_message,subscriber:e.total_subscribers,endpoint:e.endpoints,dataBE:pe,dataMdl:fe})})})))}),[t,xe]);var ve=he.filter((function(e){return e._backend_publisher_name.toLowerCase().includes(le)||e._model_name.toLowerCase().includes(le)||e._backend_publisher_name.toLowerCase().includes(le)||e.exchange.toLowerCase().includes(le)})).map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(T,{idx:t+1,id:e.id,exchange:e.exchange,pubId:e._backend_publisher_id,publisher:e._backend_publisher_name,model_id:e._model_id,model_name:e._model_name,model_url:e._model_url,trigger:e.trigger_action,description:e.description,sample_message:e.sample_message,subscriber:e.total_subscribers,endpoint:e.endpoints,dataBE:pe,dataMdl:fe})})}));return Oe?Object(v.jsx)(y.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)("div",{className:"col-6",children:Object(v.jsx)("h4",{className:"mb-2",style:{textAlign:"left"},children:"List Event/Exchange"})}),Object(v.jsx)("div",{className:"col-6",style:{margin:"auto",textAlign:"right"},children:Object(v.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat($),onClick:function(){J("Add Event"),X(ge)},style:{backgroundColor:"#30A4E1"},children:"Add Event"})})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"mb-3",children:Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",onChange:function(e){re(e.target.value)}})}),Object(v.jsx)("div",{className:"table-responsive",children:Object(v.jsxs)("table",{className:"table table-striped table-hover",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{style:{textAlign:"left"},children:[Object(v.jsx)("th",{scope:"col",children:"#"}),Object(v.jsx)("th",{scope:"col",children:"Exchange"}),Object(v.jsx)("th",{scope:"col",children:"Backend Name"}),Object(v.jsx)("th",{scope:"col",children:"Model Name"}),Object(v.jsx)("th",{className:"text-center",scope:"col",children:"Total Subscriber"}),Object(v.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(v.jsx)("tbody",{children:void 0!==t?ae:ve})]})}),Object(v.jsx)(N,{id:$,title:G,body:z,onSubmit:function(e){e.preventDefault(),""===l&&alert("Backend name harus diisi!"),""===b&&alert("Model harus diisi!"),""===x?alert("Exchange harus diisi!"):a(function(e,t,a,c,n,s,l){var r={_backend_publisher_id:e,_model_id:t,exchange:a,trigger_action:c,endpoints:n,description:s,sample_message:l};return function(e){return k.post(E,r).then((function(t){e({type:"POST_EVENTS_SUCCESS",datas:t.data.data.events}),t&&(h("success","Event Berhasil Ditambahkan","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}}(l,b,x,w,D,M,P))}})]})},M=function(e){var t=Object(o.b)(),a=Object(n.useState)(e.name),c=Object(r.a)(a,2),s=c[0],l=c[1],i=Object(n.useState)(e.url),d=Object(r.a)(i,2),u=d[0],b=d[1],j=Object(n.useState)(""),m=Object(r.a)(j,2),O=m[0],x=m[1],p=Object(n.useState)(""),f=Object(r.a)(p,2),g=f[0],S=f[1],y=function(e){l(e.target.value)},w=function(e){b(e.target.value)},_=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsxs)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:["Name ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsx)("input",{type:"email",className:"form-control",id:"inputEmail3",defaultValue:s,onChange:y})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsxs)("label",{htmlFor:"url",className:"col-sm-2 col-form-label",children:["Url ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputPassword3",defaultValue:u,onChange:w})})]})]})})};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{style:{textAlign:"left"},children:[Object(v.jsx)("th",{scope:"row",children:e.idx}),Object(v.jsx)("td",{children:e.name}),Object(v.jsxs)("td",{children:[Object(v.jsx)("a",{href:e.url,target:"_blank",rel:"nofollow",title:"tes",children:Object(v.jsx)("i",{className:"fa fa-eye","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"}})}),Object(v.jsx)("i",{className:"fa fa-pencil-square-o","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat(e.id),onClick:function(){x("Edit Models"),S(_)}}),Object(v.jsx)(N,{id:e.id,title:O,body:g,onSubmit:function(){alert("Apakah Anda Yakin ?"),t(function(e,t,a){return function(c){return B.put("".concat("http://doc.event.halped40135.com:4000","/api/model/").concat(a),{name:e,url:t}).then((function(e){c({type:"EDIT_MODELS_SUCCESS",datas:e.data.data.models}),e&&(h("success","Model Berhasil Diubah","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}}(s,u,e.id))}}),Object(v.jsx)("i",{className:"fa fa-trash-o","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"},onClick:function(){var a;alert("Apakah Anda Yakin ?"),t((a=e.id,function(e){return B.delete("".concat("http://doc.event.halped40135.com:4000","/api/model/").concat(a),{}).then((function(t){e({type:"DELETE_MODELS_SUCCESS",datas:t.data.data.models}),t&&(h("success","Model Berhasil Dihapus","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}))}})]})]},e.idx)})},q=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.models.dataModels})),a=Object(o.c)((function(e){return e.models.isLoading})),c=Object(n.useState)(""),s=Object(r.a)(c,2),l=s[0],i=s[1],d=Object(n.useState)(""),u=Object(r.a)(d,2),b=u[0],j=u[1],m=Object(n.useState)(""),O=Object(r.a)(m,2),x=O[0],p=O[1],f=Object(n.useState)(""),g=Object(r.a)(f,2),S=g[0],w=g[1],_=Object(n.useState)("addmodels"),E=Object(r.a)(_,1)[0],k=Object(n.useState)(""),C=Object(r.a)(k,2),A=C[0],T=C[1];Object(n.useEffect)((function(){e(R())}),[]);var F=t.filter((function(e){return e.name.toLowerCase().includes(A)})).map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(M,{idx:t+1,url:e.url,id:e.id,name:e.name})})})),L=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsxs)("label",{htmlFor:"name",className:"col-sm-2 col-form-label",children:["Name ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:x,onChange:I,placeholder:"Input Name"})})]}),Object(v.jsxs)("div",{className:"row mb-3",children:[Object(v.jsxs)("label",{htmlFor:"url",className:"col-sm-2 col-form-label",children:["Url ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("div",{className:"col-sm-10",children:Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputPassword3",defaultValue:S,onChange:q,placeholder:"Input Url"})})]})]})})},I=function(e){p(e.target.value)},q=function(e){w(e.target.value)};return a?Object(v.jsx)(y.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)("div",{className:"col-6",children:Object(v.jsx)("h4",{className:"mb-2",style:{textAlign:"left"},children:"List Models"})}),Object(v.jsx)("div",{className:"col-6",style:{margin:"auto",textAlign:"right"},children:Object(v.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat(E),onClick:function(){i("Create Model"),j(L)},style:{backgroundColor:"#30A4E1"},children:"Add Models"})})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"mb-3",children:Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",onChange:function(e){T(e.target.value)}})}),Object(v.jsx)("div",{className:"table-responsive",children:Object(v.jsxs)("table",{className:"table table-striped table-hover",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{style:{textAlign:"left"},children:[Object(v.jsx)("th",{scope:"col",children:"#"}),Object(v.jsx)("th",{scope:"col",children:"Model Name"}),Object(v.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(v.jsx)("tbody",{children:F})]})}),Object(v.jsx)(N,{id:E,title:l,body:b,onSubmit:function(t){t.preventDefault(),""===x&&alert("Nama harus diisi!"),""===S?alert("url harus diisi!"):e(function(e,t){return function(a){return B.post(D,{name:e,url:t}).then((function(e){a({type:"POST_MODELS_SUCCESS",datas:e.data.data.models}),e&&(h("success","Model Berhasil Ditambahkan","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}}(x,S))}})]})},U="".concat("http://doc.event.halped40135.com:4000","/api/subscribers"),V="".concat("http://doc.event.halped40135.com:4000","/api/subscriber"),P=u.a.create({baseURL:U}),W=function(e){return{type:"SUBSCRIBER_LOADING",data:e}},Q=function(e){var t=Object(o.b)(),a=Object(n.useState)(e.queue),c=Object(r.a)(a,2),s=c[0],l=c[1],i=Object(n.useState)(e.eventid),d=Object(r.a)(i,2),u=d[0],b=d[1],j=Object(n.useState)(e.exchange),m=Object(r.a)(j,1)[0],O=Object(n.useState)(e.subscriberid),x=Object(r.a)(O,2),p=x[0],f=x[1],g=Object(n.useState)(e.subscribername),S=Object(r.a)(g,1)[0],y=Object(n.useState)(e.postaction),w=Object(r.a)(y,2),_=w[0],E=w[1],k=Object(n.useState)(""),C=Object(r.a)(k,2),A=C[0],T=C[1],F=Object(n.useState)(""),D=Object(r.a)(F,2),B=D[0],L=D[1],R=function(e){l(e.target.value)},I=function(e){b(e.target.value)},M=function(e){f(e.target.value)},q=function(e){E(e.target.value)},U=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"queue",className:"form-label",children:["Queue ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:e.queue,onChange:R})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"event",className:"form-label",children:["Event ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("select",{className:"form-select","aria-label":"Default select example",defaultValue:u,onChange:I,children:[u?Object(v.jsx)("option",{value:u,children:m}):Object(v.jsx)("option",{disabled:!0,selected:!0,children:"--Pilih--"}),e.dataEvent.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.exchange},e.id)}))]})]})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"bename",className:"form-label",children:["Subscriber Backend ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("select",{className:"form-select","aria-label":"Default select example",defaultValue:p,onChange:M,children:[p?Object(v.jsx)("option",{value:p,children:S}):Object(v.jsx)("option",{disabled:!0,selected:!0,children:"--Pilih--"}),e.dataBE.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})})]}),Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"post_action",className:"form-label",children:"Post Action"}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:_,onChange:q})]})]})})};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("tr",{style:{textAlign:"left"},children:[Object(v.jsx)("th",{scope:"row",children:e.idx}),Object(v.jsx)("td",{children:e.exchange}),Object(v.jsx)("td",{children:e.queue}),Object(v.jsx)("td",{children:e.subscribername}),Object(v.jsxs)("td",{children:[Object(v.jsx)("i",{className:"fa fa-pencil-square-o","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"},"data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat(e.id),onClick:function(){T("Edit Subscriber"),L(U)}}),Object(v.jsx)(N,{id:e.id,title:A,body:B,onSubmit:function(){alert("Apakah Anda Yakin ?"),t(function(e,t,a,c,n){var s={_event_id:e,_backend_subscriber_id:t,queue:a,post_action:c};return function(e){return P.put("".concat("http://doc.event.halped40135.com:4000","/api/subscriber/").concat(n),s).then((function(t){e({type:"EDIT_SUBSCRIBER_SUCCESS",datas:t.data.data.events}),t&&(h("success","Subscriber Berhasil Diubah","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}}(u,p,s,_,e.id))}}),Object(v.jsx)("i",{className:"fa fa-trash-o","aria-hidden":"true",style:{marginRight:"10px",cursor:"pointer"},onClick:function(){var a;alert("Apakah Anda Yakin ?"),t((a=e.id,function(e){return P.delete("".concat("http://doc.event.halped40135.com:4000","/api/subscriber/").concat(a),{}).then((function(t){e({type:"DELETE_SUBSCRIBER_SUCCESS",datas:t.data.data.events}),t&&(h("success","Subscriber Berhasil Dihapus","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}))}})]})]},e.idx)})},Y=[{path:"/backend",exact:!0,name:"Backend",component:w},{path:"/event",name:"Event",component:I},{path:"/models",name:"Models",component:q},{path:"/subscribers",name:"Subscriber",component:function(){var e=window.location.href.trim().split("/")[5],t=Object(o.b)(),a=Object(o.c)((function(e){return e.subscriber.dataSubscriber})),c=Object(o.c)((function(e){return e.subscriber.isLoading})),s=Object(o.c)((function(e){return e.subscriber.dataSearch})),l=Object(o.c)((function(e){return e.backend.dataBackend})),i=Object(o.c)((function(e){return e.events.dataEvent})),d=Object(n.useState)(""),u=Object(r.a)(d,2),b=u[0],j=u[1],m=Object(n.useState)(""),O=Object(r.a)(m,2),x=O[0],p=O[1],f=Object(n.useState)(""),S=Object(r.a)(f,2),w=S[0],_=S[1],E=Object(n.useState)(""),k=Object(r.a)(E,2),C=k[0],T=k[1],F=Object(n.useState)(""),D=Object(r.a)(F,2),B=D[0],L=D[1],R=Object(n.useState)(""),I=Object(r.a)(R,2),M=I[0],q=I[1],Y=Object(n.useState)("addsubscriber"),G=Object(r.a)(Y,1)[0],J=Object(n.useState)(""),K=Object(r.a)(J,2),H=K[0],z=K[1],X=Object(n.useState)(""),Z=Object(r.a)(X,2),$=Z[0],ee=Z[1],te=function(e){j(e.target.value)},ae=function(e){p(e.target.value)},ce=function(e){_(e.target.value)},ne=function(e){T(e.target.value)};Object(n.useEffect)((function(){var a;t((function(e){return e(W(!0)),P.get(U,{}).then((function(t){e({type:"LOAD_SUBSCRIBER_SUCCESS",datas:t.data.data.subscribers})})).catch((function(e){console.error(e)})).finally((function(){setTimeout((function(){e(W(!1))}),1e3)}))})),t(A()),t(g()),e&&t((a=e,function(e){return P.get("".concat("http://doc.event.halped40135.com:4000","/api/subscribers?q=").concat(a),{}).then((function(t){e({type:"LOAD_SUBSCRIBER_SEARCH_SUCCESS",datas:t.data.data.subscribers})})).catch((function(e){console.error(e)}))}))}),[e]),Object(n.useEffect)((function(){e&&z(s&&s.map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Q,{idx:t+1,id:e._id,exchange:e._exchange,eventid:e._event_id,queue:e.queue,postaction:e.post_action,subscribername:e._backend_subscriber_name,subscriberid:e._backend_subscriber_id,dataBE:l,dataEvent:i})})})))}),[e,s,l,i]);var se=a.filter((function(e){return e._exchange.toLowerCase().includes($)||e._backend_subscriber_name.toLowerCase().includes($)||e.queue.toLowerCase().includes($)})).map((function(e,t){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Q,{idx:t+1,id:e._id,exchange:e._exchange,eventid:e._event_id,queue:e.queue,postaction:e.post_action,subscribername:e._backend_subscriber_name,subscriberid:e._backend_subscriber_id,dataBE:l,dataEvent:i})})})),le=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("form",{children:[Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"queue",className:"form-label",children:["Queue ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:b,onChange:te,placeholder:"Input Queue"})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"event",className:"form-label",children:["Event / Exchange ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("select",{class:"form-select","aria-label":"Default select example",onChange:ae,children:[x?Object(v.jsx)("option",{selected:!0,children:x}):Object(v.jsx)("option",{disabled:!0,selected:!0,children:"--Pilih--"}),i.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.exchange},e.id)}))]})]})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsxs)("label",{htmlFor:"bename",className:"form-label",children:["Subcriber Backend ",Object(v.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(v.jsxs)("select",{class:"form-select","aria-label":"Default select example",onChange:ce,children:[w?Object(v.jsx)("option",{selected:!0,children:w}):Object(v.jsx)("option",{disabled:!0,selected:!0,children:"--Pilih--"}),l.map((function(e,t){return Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))]})]})})]}),Object(v.jsxs)("div",{className:"mb-3",style:{textAlign:"left"},children:[Object(v.jsx)("label",{htmlFor:"post_action",className:"form-label",children:"Post Action "}),Object(v.jsx)("input",{type:"text",className:"form-control",id:"inputEmail3",defaultValue:C,onChange:ne,placeholder:"Input Post Action"})]})]})})};return c?Object(v.jsx)(y.a,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)("div",{className:"col-6",children:Object(v.jsx)("h4",{className:"mb-2",style:{textAlign:"left"},children:"List Subscriber/Queue"})}),Object(v.jsx)("div",{className:"col-6",style:{margin:"auto",textAlign:"right"},children:Object(v.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal".concat(G),onClick:function(){L("Create Subscriber / Queue"),q(le)},style:{backgroundColor:"#30A4E1"},children:"Add Subscriber"})})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"mb-3",children:Object(v.jsx)("input",{type:"text",className:"form-control",placeholder:"Search",onChange:function(e){ee(e.target.value)}})}),Object(v.jsx)("div",{className:"table-responsive",children:Object(v.jsxs)("table",{className:"table table-striped table-hover",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{style:{textAlign:"left"},children:[Object(v.jsx)("th",{scope:"col",children:"#"}),Object(v.jsx)("th",{scope:"col",children:"Exchange"}),Object(v.jsx)("th",{scope:"col",children:"Queue Name"}),Object(v.jsx)("th",{scope:"col",children:"Backend Name"}),Object(v.jsx)("th",{scope:"col",children:"Actions"})]})}),Object(v.jsx)("tbody",{children:void 0!==e?H:se})]})}),Object(v.jsx)(N,{id:G,title:B,body:M,onSubmit:function(e){e.preventDefault(),""===x&&alert("Event harus diisi!"),""===w&&alert("Backend name harus diisi!"),""===b?alert("Queue harus iisi!"):t(function(e,t,a,c){var n={_event_id:e,_backend_subscriber_id:t,queue:a,post_action:c};return function(e){return P.post(V,n).then((function(t){e({type:"POST_SUBSCRIBER_SUCCESS",datas:t.data.data.events}),t&&(h("success","Subscriber Berhasil Ditambahkan","",""),setTimeout((function(){window.location.reload()}),2e3))})).catch((function(e){console.error(e),400===e.response.status?(h("error","Bad Request","Data Salah/Tidak Ditemukan",""),setTimeout((function(){window.location.reload()}),2e3)):500===e.response.status?(h("error","Internal Server Error","Something Wrong",""),setTimeout((function(){window.location.reload()}),2e3)):403===e.response.status&&(h("error","Acces Forbidden","FOrbidden Access",""),setTimeout((function(){window.location.reload()}),2e3))}))}}(x,w,b,C))}})]})}}],G=a(20),J=[{path:"/backend",name:"Backend"},{path:"/models",name:"Models"},{path:"/event",name:"Event/Exchange"},{path:"/subscribers",name:"Subscriber/Queue"}],K=(a(75),function(e){var t=e.location.pathname;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"card",style:{border:"none",position:"fixed"},children:[Object(v.jsx)("div",{className:"logo",children:Object(v.jsx)("img",{src:"https://halalpedia.oss-ap-southeast-5.aliyuncs.com/2020/05/20200508141144-5eb50630deaf4-3desktoplogo.jpg",className:"img-responsive center-block",alt:"Logo"})}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"list-group",id:"list-tab",role:"tablist",children:[Object(v.jsx)("a",{className:"list-group-item list-group-item-action disabled",style:{backgroundColor:"#46AE49",color:"white"},children:"MENU"}),J.map((function(e,a){return Object(v.jsx)(G.b,{to:e.path,className:"list-group-item list-group-item-action ".concat(t===e.path?"actived":""," pl-5 mr-5 ml-5"),role:"tab","aria-controls":e.name,style:{textDecoration:"none"},children:e.name},a)}))]})]})})});t.default=function(e){var t=Y.map((function(e,t){return e.component?Object(v.jsx)(l.b,{path:e.path,exact:e.exact,name:e.name,render:function(t){return Object(v.jsx)(e.component,Object(c.a)({},t))}},t):null}));return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"container-fluid",style:{maxWidth:"1500px"},children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-sm-2",style:{marginTop:"50px"},children:Object(v.jsx)(K,Object(c.a)({},e))}),Object(v.jsx)("div",{className:"col-sm-10  main-content ",style:{marginTop:"50px"},children:Object(v.jsx)(s.a.Suspense,{fallback:Object(v.jsx)(y.a,{}),children:Object(v.jsxs)(l.d,{children:[Object(v.jsx)(l.b,{exact:!0,path:"/",children:Object(v.jsx)(l.a,{to:"/backend"})}),t]})})})]})})})}}}]);
//# sourceMappingURL=4.77244e14.chunk.js.map